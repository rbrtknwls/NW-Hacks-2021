<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google-signin-client_id" content="823820203616-hqenb993r8fsetfhatqtc0ftqabj5o2a.apps.googleusercontent.com">
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />

    <meta name="description" content="A smart social network for spreading positivity, using machine learning to empower human connections." />


    <title>Companion</title>

    <link
      rel="shortcut icon"
      href="../assets/emojione_beating-heart.png"
      type="image/x-icon"
    />

    <link rel="stylesheet" href="../assets/css/maicons.css" />

    <link rel="stylesheet" href="../assets/vendor/animate/animate.css" />

    <link
      rel="stylesheet"
      href="../assets/vendor/owl-carousel/css/owl.carousel.min.css"
    />

    <link rel="stylesheet" href="../assets/css/bootstrap.css" />

    <link rel="stylesheet" href="../assets/css/mobster.css" />
    <!-- Refs -->
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="js/main.js"></script>



  </head>
  <body style="background: linear-gradient( rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1) ), url(../assets/img/bg_hero_1.svg) no-repeat center center fixed; background-size: cover;">



    <div class="card" style="background-color: rgba(360, 360, 360, 0.1); margin-top: -0.1%">

    <div class="card text-center">
          <div class="row visible">
            <div class="col-md-2 offset-md-1">
              <div class="d-flex justify-content-end">
               <img src="../assets/logo.png" alt="" style ="height: 65px" />
             </div>
            </div>

            <div class="col-md-5 offset-md-3">
              <div class="d-flex justify-content-end">
              <h5 id = "quot" style="font-style: italic; height: 65px; overflow: auto;;"> "A Quote will go here"</h5>
              </div>
            </div>
          </div>
        </div>
    <div class="card text-center" style="background-color: rgba(360, 360, 360, 0.2);width: 96%; z-index: 100; margin: 2%">
    <div class="card-body" style="background-color: rgba(360, 360, 360, 0.8)">
      <div class="row">
        <div class="col">
          <div class="card text-center border-0 invisible">
            <div class="d-flex justify-content-center">
              </a>
                <img src="../assets/img/image1.png"  style = "width: 50%; left: 25%" class="card-img-top visible" alt="...">
              </a>
            </div>
            <div class=" visible" style= "background-color: transparent;font-family: Roboto;font-style: normal;font-weight: normal;font-size: 18px; line-height: 21px;
            ">
              <medium class="text-muted"><a href="/chat/anxiety">Anxiety</a></medium>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card text-center border-0 invisible">
            <div class="d-flex justify-content-center">
              </a>
                <img src="../assets/img/image2.png"  style = "width: 50%; left: 25%" class="card-img-top visible" alt="...">
              </a>
            </div>
            <div class=" visible" style= "background-color: transparent;font-family: Roboto;font-style: normal;font-weight: normal;font-size: 18px; line-height: 21px;
            ">
              <medium class="text-muted"><a href="/chat/loneliness">Loneliness</a></medium>
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card text-center border-0 invisible">
            <div class="d-flex justify-content-center">
              </a>
                <img src="../assets/img/image3.png"  style = "width: 50%; left: 25%" class="card-img-top visible" alt="...">
              </a>
            </div>
            <div class=" visible" style= "background-color: transparent;font-family: Roboto;font-style: normal;font-weight: normal;font-size: 18px; line-height: 21px;
            ">
              <medium class="text-muted"><a href="/chat/addiction">Addiction</a></medium>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card text-center border-0 invisible">
            <div class="d-flex justify-content-center">
              </a>
                <img src="../assets/img/image4.png"  style = "width: 50%; left: 25%" class="card-img-top visible" alt="...">
              </a>
            </div>
            <div class=" visible" style= "background-color: transparent;font-family: Roboto;font-style: normal;font-weight: normal;font-size: 18px; line-height: 21px;
            ">
              <medium class="text-muted"><a href="/chat/fitness">Fitness</a></medium>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card text-center border-0 invisible">
            <div class="d-flex justify-content-center">
              </a>
                <img src="../assets/img/image5.png"  style = "width: 50%; left: 25%" class="card-img-top visible" alt="...">
              </a>
            </div>
            <div class=" visible" style= "background-color: transparent;font-family: Roboto;font-style: normal;font-weight: normal;font-size: 18px; line-height: 21px;
            ">
              <medium class="text-muted"><a href="/chat/nutrition">Nutrition</a></medium>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card text-center border-0 invisible">
            <div class="d-flex justify-content-center">
              </a>
                <img src="../assets/img/image6.png"  style = "width: 50%; left: 25%" class="card-img-top visible" alt="...">
              </a>
            </div>
            <div class=" visible" style= "background-color: transparent;font-family: Roboto;font-style: normal;font-weight: normal;font-size: 18px; line-height: 21px;
            ">
              <medium class="text-muted"><a href="/chat/romance">Romance</a></medium>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card text-center border-0 invisible">
            <div class="d-flex justify-content-center">
              </a>
                <img src="../assets/img/image7.png"  style = "width: 50%; left: 25%" class="card-img-top visible" alt="...">
              </a>
            </div>
            <div class=" visible" style= "background-color: transparent;font-family: Roboto;font-style: normal;font-weight: normal;font-size: 18px; line-height: 21px;
            ">
              <medium class="text-muted"><a href="/chat/chill">Chill</a></medium>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card text-center border-0 invisible">
            <div class="d-flex justify-content-center">
              </a>
                <img src="../assets/img/image8.png"  style = "width: 50%; left: 25%" class="card-img-top visible" alt="...">
              </a>
            </div>
            <div class=" visible" style= "background-color: transparent;font-family: Roboto;font-style: normal;font-weight: normal;font-size: 18px; line-height: 21px;
            ">
              <medium class="text-muted"><a href="/chat/games">Games</a></medium>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card text-center border-0 invisible">
            <div class="d-flex justify-content-center">
              </a>
                <img src="../assets/img/image9.png"  style = "width: 50%; left: 25%" class="card-img-top visible" alt="...">
              </a>
            </div>
            <div class=" visible" style= "background-color: transparent;font-family: Roboto;font-style: normal;font-weight: normal;font-size: 18px; line-height: 21px;
            ">
              <medium class="text-muted"><a href="/chat/music">Music</a></medium>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card text-center border-0 invisible">
            <div class="d-flex justify-content-center">
              </a>
                <img src="../assets/img/image10.png"  style = "width: 50%; left: 25%" class="card-img-top visible" alt="...">
              </a>
            </div>
            <div class=" visible" style= "background-color: transparent;font-family: Roboto;font-style: normal;font-weight: normal;font-size: 18px; line-height: 21px;
            ">
              <medium class="text-muted"><a href="/chat/sports">Sports</a></medium>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card text-center border-0 invisible">
            <div class="d-flex justify-content-center">
              </a>
                <img src="../assets/img/image11.png"  style = "width: 50%; left: 25%" class="card-img-top visible" alt="...">
              </a>
            </div>
            <div class=" visible" style= "background-color: transparent;font-family: Roboto;font-style: normal;font-weight: normal;font-size: 18px; line-height: 21px;
            ">
              <medium class="text-muted"><a href="/chat/art">Art</a></medium>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class = "card" style="z-index:100; margin-left: 30%; margin-right: 30%">
    <div class="mood">
      <div class= "feeling">How are you feeling?</div>
      <hr>
    </div>
    <div class="row">
      <div class="col">
        <div class="d-flex justify-content-center">


            <img id= "snore" src="../assets/img/snore.png"  style = "width: 60%; left: 25%" class="card-img-top" alt="..." onclick="changeImage()" />


        </div>
      </div>
      <div class="col">
        <div class="d-flex justify-content-center">
          </a>

            <img id= "anxious" src="../assets/img/anxious.png"  style = "width: 60%; left: 25%" class="card-img-top" alt="..." onclick="changeImage2()" >
          </a>
        </div>
      </div>
      <div class="col">
        <div class="d-flex justify-content-center">
          </a>
            <img id= "angry"src="../assets/img/angry.png"  style = "width: 60%; left: 25%" class="card-img-top" alt="..." onclick="changeImage3()">
          </a>
        </div>
      </div>
      <div class="col">
        <div class="d-flex justify-content-center">
          </a>
            <img id= "nervous"src="../assets/img/nervous.png"  style = "width: 60%; left: 25%" class="card-img-top" alt="..." onclick="changeImage4()">
          </a>
        </div>
      </div>
      <div class="col">
        <div class="d-flex justify-content-center">
          </a>
            <img id="happy" src="../assets/img/happy.png"  style = "width: 60%; left: 25%" class="card-img-top" alt="..." onclick="changeImage5()">
          </a>
        </div>
      </div>
    </div>
    <hr>
    <div class="btn">
      <button class="btn btn-dark rounded-pill" onclick = "sgroup()"><a href="/chat">Chat With Others in the Same Mood</a></button>
    </div>
  </div>

  <div class = "card text-center" style="margin: 1.5%;margin-top: 5%">
    <div class = "card text-center" style="margin: 1.5%;">
    <div class="row">
      <div class="col-4">
        <div class="card" style = " border-left: 0px; border-top: 0px">
          <div class="d-flex justify-content-center">
            <img id = "profilephoto" class="card-img-top" src="..." alt="Card image cap" style = "margin-top: 1%;object-fit: cover; border-radius: 50%; max-width: 50%; border: 1px solid" alt="...">
          </div>
          <hr>
          <div class="card-body">
            <h3 id = "profileemail" style="font-weight: bold;"> Here is the email <h3>
          </div>
        </div>
      </div>
      <div class="col-8">
        <div class="card text-center" style="border-bottom: 0px; border-left: 0px; border-top: 0px">
          <div class="row" style= "margin-top: 0.5%">
            <div class="col-7 offset-md-1">
              <div class="d-flex justify-content-start">
                <h2 style = "font-weight: bold;"> <span id = "profilename">Insert Name<span></h2><h2>'s Social Good: </h2>

              </div>
                <hr style="margin-top: -0.5%; border: 1px solid black;">
            </div>
            <div class="col-4">
            </div>
          </div>
          <!-- interactivity -->
          <div class = "row" style="margin-top: 3%">
          <div class = "col-6">
          <div class = "card text-center" style="margin: 1%; background-color: rgba(11, 156, 49, 0.2)">
            <div class="row">
            <div class="col-7">
              <div class="d-flex justify-content-center" style="margin-top: 6%; margin-bottom: 1%">
              <div class = "row">
                <h4> People Helped: &nbsp; </h4> <h4 id = "phelp" style="font-weight: bold;"> 0 </h4>
              </div>
            </div>
            <div class="d-flex justify-content-center" style="margin-top: 1%; margin-bottom: 1%">
              <div class = "row" style="margin-top: 1%; margin-bottom: 1%">
                <h4> Awards Recieved: &nbsp; </h4> <h4 id = "sgot" style="font-weight: bold;"> 0 </h4>
              </div>
            </div>
            </div>
            <div class="col-5">
              <div class="card bg-transparent" style="border-top: 0px; border-right: 0px; border-bottom: 0px">
              <div class="card" style ="background-color: rgba(360, 360, 360, 0.2); margin: 2%">
                <div class="card-body">
                  <h5 class="card-title">Positivity Of Messages</h5>
                </div>
                <div style="margin-top: -4%; margin-bottom: 1%">
                  <div class="d-flex justify-content-center">
                    <canvas id="impact" width="100%" height="100%"></canvas>
                  </div>
                </div>
              </div>
            </div>
            </div>
          </div>
        </div>
      </div>

        <!-- Personal Wellbeing -->
<div class = "col-6">
        <div class = "card text-center" style="margin: 1%; background-color: rgba(137, 196, 244, 0.2)">
          <div class="row">
          <div class="col-7">
            <div class="d-flex justify-content-center" style="margin-top: 6%; margin-bottom: 1%">
            <div class = "row">
              <h4> Time Spent: &nbsp; </h4> <h4 id = tspent style="font-weight: bold;"> 0 </h4>
            </div>
          </div>
          <div class="d-flex justify-content-center" style="margin-top: 1%; margin-bottom: 1%">
            <div class = "row" style="margin-top: 1%; margin-bottom: 1%">
              <h4> # of Joined Groups: &nbsp; </h4> <h4 id = "gjoin" style="font-weight: bold;"> 0 </h4>
            </div>
          </div>
          </div>
          <div class="col-5">
            <div class="card bg-transparent" style="border-top: 0px; border-right: 0px; border-bottom: 0px">
            <div class="card" style ="background-color: rgba(360, 360, 360, 0.2); margin: 2%">
              <div style="margin-top: -4%; margin-bottom: 3%">
                <div class="d-flex justify-content-center">
                  <canvas id="emotions" width="170px" height="170px"></canvas>
                </div>
              </div>
            </div>
          </div>
          </div>
        </div>
      </div>
    </div>
        </div>
      </div>
    </div>
  </div>

</div>

<script>
  var CURR_EMOTE = 0;

  function restart(){
    console.log("yee");
    var image = document.getElementById('snore');
    image.src = "../assets/img/snore.png";

    var image = document.getElementById('anxious');
    image.src = "../assets/img/anxious.png";

    var image = document.getElementById('angry');
    image.src = "../assets/img/angry.png";

    var image = document.getElementById('nervous');
    image.src = "../assets/img/nervous.png";

    var image = document.getElementById('happy');
    image.src = "../assets/img/happy.png";
  }
  function changeImage() {
    CURR_EMOTE = 1;
      restart();
      var image = document.getElementById('snore');
      image.src = "../assets/img/snore2.png";
  }
  function changeImage2() {
    CURR_EMOTE = 2;
      restart();
      var image = document.getElementById('anxious');
      image.src = "../assets/img/anxious2.png";
  }
  function changeImage3() {
    CURR_EMOTE = 3;
      restart();
      var image = document.getElementById('angry');
      image.src = "../assets/img/angry2.png";
  }
  function changeImage4() {
    CURR_EMOTE = 4;
      restart();
      var image = document.getElementById('nervous');
      image.src = "../assets/img/nervous2.png";
  }
  function changeImage5() {
    CURR_EMOTE = 5;
      restart();
      var image = document.getElementById('happy');
      image.src = "../assets/img/happy2.png";
  }
</script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
    <script>

    var socket = io.connect();

    var userid = getUserId();
    var pfp = getPFP();
    var email = getEmail();
    var usename = getUserName();

    socket.on('connect', () => {
      if (cookieCheck()){

          document.getElementById("profilephoto").src = pfp;
          document.getElementById("profileemail").innerHTML = email;
          document.getElementById("profilename").innerHTML = usename;

          socket.emit('get_positvity', userid, socket.id);
          socket.emit('get_emotions', userid, socket.id);
          socket.emit('get_misc_stats', userid, socket.id);
          
          socket.emit('get_quote', socket.id);
          function sgroup(){
            socket.emit("ready_group", userid, CURR_EMOTE);
          }

          socket.on('peoplehelped', function(val){
            document.getElementById("phelp").innerHTML = val;
          });

          socket.on('groupsjoined', function(val){
            document.getElementById("gjoin").innerHTML = val;
          });

          socket.on('postquote', function(val){
            document.getElementById("quot").innerHTML = val;
          });

          socket.on('timespent', function(val){
            document.getElementById("tspent").innerHTML = val;
          });

          socket.on('starsgot', function(val){
            document.getElementById("sgot").innerHTML = val;
          });

          socket.on('buildemo', function(angry, happy, nervous, sad, tired){
            var average_chart = document.getElementById('emotions').getContext('2d');

            var rating_doughnut_chart = new Chart(average_chart, {
                type: 'radar',
                data: {
                    labels: ['Angry', 'Happy', 'Nervous', "Sad", "Tired"],
                    datasets: [{
                        label: 'Rating',
                        data: [angry, happy, nervous, sad, tired],
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.2)',
                            'rgba(54, 162, 235, 0.2)',
                            'rgba(255, 206, 86, 0.2)',
                            'rgba(255, 206, 86, 0.2)',
                            'rgba(255, 206, 86, 0.2)',

                        ],
                        borderColor: [
                            'rgba(255, 99, 132, 1)',
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 206, 86, 1)',
                            'rgba(255, 206, 86, 1)',
                            'rgba(255, 206, 86, 1)',

                        ],
                        borderWidth: 1
                    }]
                },

                // Configuration options go here
                options: {

                    responsive:false,

                    legend: {
                        display: false
                    }


                }
            });
            console.log(angry)
            console.log(happy)
            console.log(nervous)
            console.log(sad)
            console.log(tired)
          });

          socket.on('buildpos', function(val){

            let impact_array = [0, 0, 0];

            var impact_chart = document.getElementById('impact').getContext('2d');

            var impact_doughnut_chart = new Chart(impact_chart, {
                type: 'doughnut',
                data: {
                    labels: ['Negative', 'Positive'],
                    datasets: [{

                        data: [100 - val, val],    //**Enter data here!
                        //15 is people helped
                        //16 is medals recieved
                        //17 is time spent helping

                        backgroundColor: [
                            'rgba(255, 99, 132, 0.2)',
                            'rgba(109, 232, 126, 0.2)',

                        ],
                        borderColor: [
                            'rgba(255, 99, 132, 1)',
                            'rgba(81, 188, 96, 1)',

                        ],
                        borderWidth: 1
                    }]
                },

                // Configuration options go here
                options: {

                    responsive:false,

                    legend: {
                         display: false
                    }


                }
            });

        });



      } else {
        authFail();
      }
    });

    </script>









    <script src="../assets/js/jquery-3.5.1.min.js"></script>

    <script src="../assets/js/bootstrap.bundle.min.js"></script>

    <script src="../assets/vendor/owl-carousel/js/owl.carousel.min.js"></script>

    <script src="../assets/vendor/wow/wow.min.js"></script>

    <script src="../assets/js/mobster.js"></script>
  </body>

</html>
